{"ast":null,"code":"import { isPlatformBrowser } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { Injectable, inject, NgZone, effect, Directive, NgModule } from '@angular/core';\nimport { removeClass, getHeight, getWidth, getOuterWidth, getOuterHeight, getOffset, addClass, remove } from '@primeuix/utils';\nimport { BaseComponent } from 'primeng/basecomponent';\nimport { BaseStyle } from 'primeng/base';\nconst theme = ({\n  dt\n}) => `\n/* For PrimeNG */\n.p-ripple {\n    overflow: hidden;\n    position: relative;\n}\n\n.p-ink {\n    display: block;\n    position: absolute;\n    background: ${dt('ripple.background')};\n    border-radius: 100%;\n    transform: scale(0);\n}\n\n.p-ink-active {\n    animation: ripple 0.4s linear;\n}\n\n.p-ripple-disabled .p-ink {\n    display: none !important;\n}\n\n@keyframes ripple {\n    100% {\n        opacity: 0;\n        transform: scale(2.5);\n    }\n}\n`;\nconst classes = {\n  root: 'p-ink'\n};\nclass RippleStyle extends BaseStyle {\n  name = 'ripple';\n  theme = theme;\n  classes = classes;\n  static ɵfac = /*@__PURE__*/(() => {\n    let ɵRippleStyle_BaseFactory;\n    return function RippleStyle_Factory(__ngFactoryType__) {\n      return (ɵRippleStyle_BaseFactory || (ɵRippleStyle_BaseFactory = i0.ɵɵgetInheritedFactory(RippleStyle)))(__ngFactoryType__ || RippleStyle);\n    };\n  })();\n  static ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: RippleStyle,\n    factory: RippleStyle.ɵfac\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RippleStyle, [{\n    type: Injectable\n  }], null, null);\n})();\n/**\n *\n * Ripple directive adds ripple effect to the host element.\n *\n * [Live Demo](https://www.primeng.org/ripple)\n *\n * @module ripplestyle\n *\n */\nvar RippleClasses;\n(function (RippleClasses) {\n  /**\n   * Class name of the root element\n   */\n  RippleClasses[\"root\"] = \"p-ink\";\n})(RippleClasses || (RippleClasses = {}));\n\n/**\n * Ripple directive adds ripple effect to the host element.\n * @group Components\n */\nclass Ripple extends BaseComponent {\n  zone = inject(NgZone);\n  _componentStyle = inject(RippleStyle);\n  animationListener;\n  mouseDownListener;\n  timeout;\n  constructor() {\n    super();\n    effect(() => {\n      if (isPlatformBrowser(this.platformId)) {\n        if (this.config.ripple()) {\n          this.zone.runOutsideAngular(() => {\n            this.create();\n            this.mouseDownListener = this.renderer.listen(this.el.nativeElement, 'mousedown', this.onMouseDown.bind(this));\n          });\n        } else {\n          this.remove();\n        }\n      }\n    });\n  }\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n  }\n  onMouseDown(event) {\n    let ink = this.getInk();\n    if (!ink || this.document.defaultView?.getComputedStyle(ink, null).display === 'none') {\n      return;\n    }\n    removeClass(ink, 'p-ink-active');\n    if (!getHeight(ink) && !getWidth(ink)) {\n      let d = Math.max(getOuterWidth(this.el.nativeElement), getOuterHeight(this.el.nativeElement));\n      ink.style.height = d + 'px';\n      ink.style.width = d + 'px';\n    }\n    let offset = getOffset(this.el.nativeElement);\n    let x = event.pageX - offset.left + this.document.body.scrollTop - getWidth(ink) / 2;\n    let y = event.pageY - offset.top + this.document.body.scrollLeft - getHeight(ink) / 2;\n    this.renderer.setStyle(ink, 'top', y + 'px');\n    this.renderer.setStyle(ink, 'left', x + 'px');\n    addClass(ink, 'p-ink-active');\n    this.timeout = setTimeout(() => {\n      let ink = this.getInk();\n      if (ink) {\n        removeClass(ink, 'p-ink-active');\n      }\n    }, 401);\n  }\n  getInk() {\n    const children = this.el.nativeElement.children;\n    for (let i = 0; i < children.length; i++) {\n      if (typeof children[i].className === 'string' && children[i].className.indexOf('p-ink') !== -1) {\n        return children[i];\n      }\n    }\n    return null;\n  }\n  resetInk() {\n    let ink = this.getInk();\n    if (ink) {\n      removeClass(ink, 'p-ink-active');\n    }\n  }\n  onAnimationEnd(event) {\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n    }\n    removeClass(event.currentTarget, 'p-ink-active');\n  }\n  create() {\n    let ink = this.renderer.createElement('span');\n    this.renderer.addClass(ink, 'p-ink');\n    this.renderer.appendChild(this.el.nativeElement, ink);\n    this.renderer.setAttribute(ink, 'aria-hidden', 'true');\n    this.renderer.setAttribute(ink, 'role', 'presentation');\n    if (!this.animationListener) {\n      this.animationListener = this.renderer.listen(ink, 'animationend', this.onAnimationEnd.bind(this));\n    }\n  }\n  remove() {\n    let ink = this.getInk();\n    if (ink) {\n      this.mouseDownListener && this.mouseDownListener();\n      this.animationListener && this.animationListener();\n      this.mouseDownListener = null;\n      this.animationListener = null;\n      remove(ink);\n    }\n  }\n  ngOnDestroy() {\n    if (this.config && this.config.ripple()) {\n      this.remove();\n    }\n    super.ngOnDestroy();\n  }\n  static ɵfac = function Ripple_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || Ripple)();\n  };\n  static ɵdir = /*@__PURE__*/i0.ɵɵdefineDirective({\n    type: Ripple,\n    selectors: [[\"\", \"pRipple\", \"\"]],\n    hostAttrs: [1, \"p-ripple\"],\n    standalone: true,\n    features: [i0.ɵɵProvidersFeature([RippleStyle]), i0.ɵɵInheritDefinitionFeature]\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(Ripple, [{\n    type: Directive,\n    args: [{\n      selector: '[pRipple]',\n      host: {\n        class: 'p-ripple'\n      },\n      standalone: true,\n      providers: [RippleStyle]\n    }]\n  }], () => [], null);\n})();\nclass RippleModule {\n  static ɵfac = function RippleModule_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || RippleModule)();\n  };\n  static ɵmod = /*@__PURE__*/i0.ɵɵdefineNgModule({\n    type: RippleModule\n  });\n  static ɵinj = /*@__PURE__*/i0.ɵɵdefineInjector({});\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RippleModule, [{\n    type: NgModule,\n    args: [{\n      imports: [Ripple],\n      exports: [Ripple]\n    }]\n  }], null, null);\n})();\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(RippleModule, {\n    imports: [Ripple],\n    exports: [Ripple]\n  });\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { Ripple, RippleClasses, RippleModule, RippleStyle };\n//# sourceMappingURL=primeng-ripple.mjs.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}