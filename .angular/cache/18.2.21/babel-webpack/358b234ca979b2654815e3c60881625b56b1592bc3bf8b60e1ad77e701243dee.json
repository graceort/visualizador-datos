{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"primeng/chart\";\nexport class ChartViewComponent {\n  // Línea: ventas (se mantiene)\n  lineData;\n  lineOptions;\n  // Pastel: COVID-19 (nuevo)\n  pieData;\n  pieOptions;\n  ngOnInit() {\n    // --- Línea (ejemplo de ventas) ---\n    const labels = ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'];\n    this.lineData = {\n      labels,\n      datasets: [{\n        label: 'Ventas',\n        data: [120, 90, 140, 130, 180, 160, 220, 210, 230, 190, 200, 250],\n        fill: false,\n        tension: 0.3\n      }, {\n        label: 'Objetivo',\n        data: [100, 100, 120, 120, 150, 150, 180, 180, 200, 200, 220, 220],\n        borderDash: [6, 6],\n        fill: false,\n        tension: 0.3\n      }]\n    };\n    this.lineOptions = {\n      responsive: true,\n      maintainAspectRatio: false,\n      plugins: {\n        legend: {\n          position: 'bottom'\n        },\n        tooltip: {\n          intersect: false,\n          mode: 'index'\n        }\n      },\n      scales: {\n        y: {\n          beginAtZero: true\n        }\n      }\n    };\n    // --- Pastel (COVID-19) ---\n    // Datos de ejemplo (puedes reemplazar con reales o traerlos de un servicio):\n    // Confirmados, Recuperados, Fallecidos\n    const covidValues = [1250000, 1180000, 36000];\n    this.pieData = {\n      labels: ['Confirmados', 'Recuperados', 'Fallecidos'],\n      datasets: [{\n        data: covidValues\n        // Chart.js le asignará colores por defecto\n      }]\n    };\n    this.pieOptions = {\n      responsive: true,\n      maintainAspectRatio: false,\n      plugins: {\n        legend: {\n          position: 'bottom'\n        },\n        tooltip: {\n          callbacks: {\n            label: ctx => {\n              const label = ctx.label ?? '';\n              const value = ctx.parsed ?? 0;\n              const total = ctx.dataset.data.reduce((a, b) => a + b, 0);\n              const pct = total ? (value / total * 100).toFixed(1) : '0.0';\n              return `${label}: ${value.toLocaleString()} (${pct}%)`;\n            }\n          }\n        }\n      }\n    };\n  }\n  static ɵfac = function ChartViewComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || ChartViewComponent)();\n  };\n  static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ChartViewComponent,\n    selectors: [[\"app-chart-view\"]],\n    decls: 14,\n    vars: 4,\n    consts: [[1, \"chart-view\"], [1, \"cards\"], [1, \"card\"], [\"type\", \"line\", 2, \"height\", \"320px\", \"display\", \"block\", 3, \"data\", \"options\"], [1, \"hint\"], [\"type\", \"pie\", 2, \"height\", \"320px\", \"display\", \"block\", 3, \"data\", \"options\"]],\n    template: function ChartViewComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0)(1, \"h2\");\n        i0.ɵɵtext(2, \"Visor de Gr\\u00E1ficos\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2)(5, \"h3\");\n        i0.ɵɵtext(6, \"Ventas (l\\u00EDnea)\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(7, \"p-chart\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 2)(9, \"h3\");\n        i0.ɵɵtext(10, \"COVID-19 (diagrama de pastel)\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"p\", 4);\n        i0.ɵɵtext(12, \"Datos de ejemplo: Confirmados, Recuperados, Fallecidos.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(13, \"p-chart\", 5);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"data\", ctx.lineData)(\"options\", ctx.lineOptions);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"data\", ctx.pieData)(\"options\", ctx.pieOptions);\n      }\n    },\n    dependencies: [i1.UIChart],\n    styles: [\".chart-view[_ngcontent-%COMP%]{padding:1rem}.cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:1rem}.card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:1rem;background:#fff}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:.5rem}\"]\n  });\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}